# Maintainer: Inkane <neoinkaneglade@aol.com>
# Contributor: Thomas Dziedzic < gostrc at gmail >
# Contributor: Chris O'Donnell <christopher.p.odonnell@gmail.com>
# Contributor: Sam May <sam.m4y@gmail.com>

pkgname=clojure
pkgver=1.3.0
pkgrel=2
pkgdesc='A LISP dialect for the JVM.'
url='http://www.clojure.org'
arch=('any')
license=('CPL')
depends=('java-environment')
optdepends=('rlwrap: for a friendlier shell with readline support')
install='clojure.install'
# major asshattery happening on behalf of maven.org, WHY WOULD YOU BLOCK WGET?!?!?!
DLAGENTS=('http::/usr/bin/wget -c -t 3 --waitretry=3 -O %o %u -U YUBLOCKWGET')
source=("http://repo1.maven.org/maven2/org/clojure/clojure/${pkgver}/clojure-${pkgver}.zip"
        'clj'
        'clojure.sh')
md5sums=('de91ee9914017a38c7cc391ab8fcbc1a'
         '396de3edaf31e7a0d58f6dd8aa10ecab'
         '7e02402b3f875ec60c77da9dbe324786')

package() {
  # launcher script
  install -D clj \
    ${pkgdir}/usr/bin/clj

  # profile
  install -D clojure.sh \
    ${pkgdir}/etc/profile.d/clojure.sh

  # clojure
  install -D -m644 clojure-${pkgver}/clojure-${pkgver}.jar \
    ${pkgdir}/usr/share/clojure/clojure.jar

}
